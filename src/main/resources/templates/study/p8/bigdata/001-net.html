<!doctype html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>基础控件</title>

    <link rel="stylesheet" href="../static/base.css">
    <style>
        html, body{
            width: 100%;
            height: 100%;
            margin: 0px;
        }
        b{
            font-weight: bold;
        }
        h2{
            margin: 0;
        }
    </style>
</head>
<body>

<h3 style="position: fixed; bottom: 10px; right: 10px;">号称微服务下一代 service mesh</h3>

<pre>
                          _oo0oo_
                         o8888888o
                         88" . "88
                         (| -_- |)
                         0\  =  /0
                       ___/`---'\___
                     .' \\|     |// '.
                    / \\|||  :  |||// \
                   / _||||| -:- |||||- \
                  |   | \\\  -  /// |   |
                  | \_|  ''\---/''  |_/ |
                  \  .-\__  '-'  ___/-. /
                ___'. .'  /--.--\  `. .'___
             ."" '<  `.___\_<|>_/___.' >' "".
            | | :  `- \`.;`\ _ /`;.`/ - ` : | |
            \  \ `_.   \_ __\ /__ _/   .-` /  /
        =====`-.____`.___ \_____/___.-`___.-'=====
                          `=---='
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
                      佛祖保佑         永无BUG

    <h2 class="anchor">应用层</h2>
    linux: 一切皆文件
    cd /proc/$$/fd
        $$: 当前解释程序进程id号
        fd: 文件描述符
    建立socket连接: exec 8<> /dev/tcp/www.baidu.com/80
        <>: I/O 数入/输出
        8<>: 8指向socket(套接字通信,内核中转换为套接字)
    http协议输送到百度: echo -e 'get / http/1.0\n' >& 8
        >: 重定向输出
        >&: 代表8是文件描述符,不是文件
        -e: \n 转化为换行符
        ''之间: 最简单http协议
    读取返回结果: cat 0<& 8
        标准输入0 来自文件描述符8
        cat: 读文件,从标准输入读东西
    关掉: exec 8<& -

    <h2 class="anchor">传输控制层</h2>
    三次握手 通信双方都要确认是否可通信
        客户端 → 服务端: 我想连接
        客户端 ← 服务端: 确认可以
        客户端 → 服务端: 收到确认 (通工减料: 同时发数据)
    四次分手 socket资源-可有的端口
        客户端 → 服务端: 我想断开
        客户端 ← 服务端: 确认可以
        客户端 ← 服务端: 我想断开
        客户端 → 服务端: 确认可以
    查看建立的连接 netstat -natp

    <h2 class="anchor">网络层</h2>
    配置网卡: cat /etc/sysconfig/network-script/ifcfg-eth0
    路由表: route -ncat /etc/sysconfig/network-script/ifcfg-eth0
    吓一跳机制

    <h2 class="anchor">数据链路层</h2>
    查看MAC地址: arp -a


</pre>

<script src="../static/base.js"></script>
</body>
</html>